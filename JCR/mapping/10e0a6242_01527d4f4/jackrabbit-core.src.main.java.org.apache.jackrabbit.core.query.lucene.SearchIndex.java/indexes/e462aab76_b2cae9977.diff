18a19,41
> import java.io.File;
> import java.io.IOException;
> import java.io.InputStream;
> import java.net.MalformedURLException;
> import java.net.URL;
> import java.util.ArrayList;
> import java.util.Arrays;
> import java.util.Collection;
> import java.util.Collections;
> import java.util.Comparator;
> import java.util.HashMap;
> import java.util.HashSet;
> import java.util.Iterator;
> import java.util.List;
> import java.util.Map;
> import java.util.Set;
> 
> import javax.jcr.RepositoryException;
> import javax.jcr.query.InvalidQueryException;
> import javax.xml.parsers.DocumentBuilder;
> import javax.xml.parsers.DocumentBuilderFactory;
> import javax.xml.parsers.ParserConfigurationException;
> 
64d86
< import org.apache.tika.exception.TikaException;
66d87
< import org.apache.tika.metadata.Metadata;
68d88
< import org.apache.tika.parser.ParseContext;
73d92
< import org.xml.sax.ContentHandler;
76,97d94
< import javax.jcr.RepositoryException;
< import javax.jcr.query.InvalidQueryException;
< import javax.xml.parsers.DocumentBuilder;
< import javax.xml.parsers.DocumentBuilderFactory;
< import javax.xml.parsers.ParserConfigurationException;
< import java.io.File;
< import java.io.IOException;
< import java.io.InputStream;
< import java.net.MalformedURLException;
< import java.net.URL;
< import java.util.ArrayList;
< import java.util.Arrays;
< import java.util.Collection;
< import java.util.Collections;
< import java.util.Comparator;
< import java.util.HashMap;
< import java.util.HashSet;
< import java.util.Iterator;
< import java.util.List;
< import java.util.Map;
< import java.util.Set;
< 
754c751
<             index.flush();
---
>             index.safeFlush();
